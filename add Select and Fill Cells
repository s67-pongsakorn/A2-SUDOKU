import tkinter as tk
import random

class SudokuGame:
    def __init__(self, root):
        self.root = root
        self.grid = [[0] * 9 for _ in range(9)]
        self.cells = [[None] * 9 for _ in range(9)]
        self.selected_number = None
        self.create_grid()
        self.fill_random_entries()
        self.create_number_buttons()

    def create_grid(self):
        for row in range(9):
            for col in range(9):
                cell = tk.Entry(self.root, width=3, font=('Arial', 18), justify='center')
                cell.grid(row=row, column=col)
                cell.bind("<FocusIn>", lambda event, r=row, c=col: self.select_cell(r, c))
                self.cells[row][col] = cell

    def fill_random_entries(self):
        positions = random.sample(range(81), 40) 
        for pos in positions:
            row, col = divmod(pos,9)
            self.cells[row][col].insert(0, str(random.randint(1, 9)))

    def create_number_buttons(self):
        frame = tk.Frame(self.root)
        frame.grid(row=10, column=0, columnspan=15)
        for number in range(1, 10):
            button = tk.Button(frame, text=str(number), command=lambda n=number: self.select_number(n))
            button.grid(row=0, column=number - 1)

    def select_number(self, number):
        self.selected_number = number

    def select_cell(self, row, col):
        if self.selected_number is not None:
            self.cells[row][col].insert(0, str(self.selected_number))
            
root = tk.Tk()
root.title("Sudoku Game")
game = SudokuGame(root)
root.mainloop()
